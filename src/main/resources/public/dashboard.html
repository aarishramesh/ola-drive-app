<html>
    <head>Rides Dashboard View
    </head>
    <body>
          <input type="button" value="refresh" onclick="javascript: reload()"/>
         
          <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    
    <script>
   
    function reload() {
    	location.reload()
    }
    
    $.ajax({
        url: "http://localhost:7777/ola-drive/ride/dashboard",
        dataType: 'json',
        type: "GET",
        success: function (result) {
            //alert(result);
            var trHTML = '<table border="1"><tr><th>RequestId</th><th>CustomerId</th><th>RequestTime</th><th>Status</th><th>DriverId</th><th>Start time</th><th>End time</th></tr>';
            $.each(result.data, function (i, item) {
            		var requestTime;
            		if (item.requestTime != 0) {
            			requestTime = item.requestTime;
            		}
            		
            		var startDate;
            		if (item.startTime != 0) {
            			startDate = new Date(item.startTime);
            		}
            		var endDate;
            		if (item.endTime != 0) {
            			endDate =  new Date(item.endTime);
            		}
            		
            		var status;
            		if (item.status == 0) {
            			status = 'Waiting';
            		} else if (item.status == 1) {
            		    status = 'Ongoing';
            		} else {
            			status = 'Completed';
            		}
            		
                    trHTML += '<tr><td>' + item.requestId + '</td><td>' + item.customerId + '</td><td>' + requestTime + '</td><td>' + status + '</td><td>' + item.driverId + '</td><td>' + startDate + '</td><td>'
                    	+ endDate + '</td></tr>';
                });
            trHTML +="</table>";
            $("#tableHolder").html(trHTML);
        }
    }).done (function(data) { });

    </script>
    
    <div id="tableHolder"></div>
    </body>
</html>